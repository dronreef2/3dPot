# Configurações do Sistema 3dPot - Produção
# Copie este arquivo para .env e configure as variáveis

# =============================================================================
# DOMÍNIOS E URLs
# =============================================================================
DOMAIN=3dpot.com.br
FRONTEND_URL=https://3dpot.com.br

# =============================================================================
# AUTENTICAÇÃO E SEGURANÇA
# =============================================================================
# Gere uma chave secreta forte: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-here-change-this
JWT_EXPIRATION=1h
REFRESH_TOKEN_EXPIRATION=7d

# =============================================================================
# CONFIGURAÇÕES DE PRODUÇÃO
# =============================================================================
NODE_ENV=production
LOG_LEVEL=info
LOG_MAX_FILES=5
LOG_MAX_SIZE=10m

# =============================================================================
# HARDWARE - ESP32 (Monitor de Filamento)
# =============================================================================
ESP32_MQTT_BROKER=mqtt://mqtt-broker:1883
ESP32_MQTT_USERNAME=
ESP32_MQTT_PASSWORD=
ESP32_MQTT_TOPIC_PREFIX=3dpot/esp32
ESP32_WEIGHT_THRESHOLD=50.0
ESP32_TEMPERATURE_THRESHOLD=25.0
ESP32_BATTERY_THRESHOLD=20.0

# =============================================================================
# HARDWARE - Arduino (Esteira Transportadora)
# =============================================================================
ARDUINO_SERIAL_PORT=/dev/ttyACM0
ARDUINO_BAUD_RATE=9600
ARDUINO_TIMEOUT=5000
ARDUINO_MAX_SPEED=100
ARDUINO_DEFAULT_SPEED=50

# =============================================================================
# HARDWARE - Raspberry Pi (Estação QC)
# =============================================================================
RPI_API_URL=http://raspberry-pi:5000
RPI_API_TIMEOUT=10000
RPI_QUALITY_THRESHOLD=80.0
RPI_IMAGE_RETENTION_DAYS=30

# =============================================================================
# BANCO DE DADOS
# =============================================================================
DB_PATH=/app/server/database/3dpot.db
DB_MAX_CONNECTIONS=10
DB_QUERY_TIMEOUT=30000

# =============================================================================
# EMAIL E ALERTAS
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_RECIPIENTS=admin@3dpot.com.br,operator@3dpot.com.br

# =============================================================================
# SLACK E WEBHOOKS
# =============================================================================
SLACK_WEBHOOK=
SLACK_CHANNEL=#alerts
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# =============================================================================
# MONITORAMENTO E METRICAS
# =============================================================================
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
GRAFANA_ADMIN_PASSWORD=secure-grafana-password
HEALTH_CHECK_INTERVAL=30s
METRICS_RETENTION_DAYS=30

# =============================================================================
# BACKUP E ARMAZENAMENTO
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Diário às 2h da manhã
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# =============================================================================
# REDIS E CACHE
# =============================================================================
REDIS_URL=redis://redis:6379
CACHE_TTL=3600
CACHE_MAX_SIZE=100

# =============================================================================
# PORTAS DOS SERVIÇOS
# =============================================================================
FRONTEND_PORT=80
BACKEND_PORT=3000
NGINX_PORT=80
NGINX_SSL_PORT=443
MQTT_PORT=1883
GRAFANA_PORT=3001
PROMETHEUS_PORT=9090
NODE_RED_PORT=1880

# =============================================================================
# SSL E CERTIFICADOS
# =============================================================================
SSL_ENABLED=true
LETS_ENCRYPT_EMAIL=admin@3dpot.com.br
SSL_KEY_PATH=/etc/nginx/ssl/3dpot.key
SSL_CERT_PATH=/etc/nginx/ssl/3dpot.crt

# =============================================================================
# CONFIGURAÇÕES DE PERFORMANCE
# =============================================================================
MAX_REQUEST_SIZE=100M
MAX_FILE_SIZE=50M
MAX_EXECUTION_TIME=300
MAX_MEMORY_USAGE=512M
WORKER_PROCESSES=auto
WORKER_CONNECTIONS=1024

# =============================================================================
# LOGS E DEBUGGING
# =============================================================================
LOG_FORMAT=json
DEBUG_MODE=false
ACCESS_LOG_ENABLED=true
ERROR_LOG_ENABLED=true

# =============================================================================
# DESENVOLVIMENTO (remover em produção)
# =============================================================================
# DEV_MODE=false
# CORS_ORIGIN=http://localhost:3000
# API_DEBUG_ENABLED=false
# DEV_MQTT_BROKER=mqtt://test.mosquitto.org:1883
# DEV_DATABASE_URL=sqlite:./dev.db

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# CLOUD_STORAGE_S3_BUCKET=
# CLOUD_STORAGE_ACCESS_KEY=
# CLOUD_STORAGE_SECRET_KEY=
# CDN_BASE_URL=
# ANALYTICS_API_KEY=

# =============================================================================
# FEATURES FLAGS
# =============================================================================
FEATURE_HARDWARE_INTEGRATION=true
FEATURE_REAL_TIME_MONITORING=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_EXPORT_REPORTS=true
FEATURE_EMAIL_ALERTS=true
FEATURE_MOBILE_APP=false
FEATURE_API_V2=false

# =============================================================================
# COMPLIANCE E AUDITORIA
# =============================================================================
AUDIT_LOG_ENABLED=true
AUDIT_RETENTION_DAYS=365
DATA_ENCRYPTION_ENABLED=true
GDPR_COMPLIANCE=true
ISO27001_COMPLIANCE=false

# =============================================================================
# LIMITE DE RECURSOS
# =============================================================================
MAX_CONCURRENT_CONNECTIONS=1000
MAX_DAILY_REQUESTS=1000000
RATE_LIMIT_WINDOW=900
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# MANUTENÇÃO
# =============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Sistema em manutenção. Retornaremos em breve."
FORCE_SSL=true
HSTS_MAX_AGE=31536000