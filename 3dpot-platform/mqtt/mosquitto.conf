# 3dPot Platform MQTT Configuration
# Criado em: 2025-11-12 22:42:43
# Autor: MiniMax Agent

# Configurações básicas
persistence true
persistence_location /mosquitto/data/
log_timestamp true
log_type error
log_type warning
log_type notice
log_type information
connection_messages true
log_dest stdout

# Configurações de rede
listener 1883 0.0.0.0
protocol mqtt
allow_anonymous true
max_connections 100
max_inflight_messages 20
max_queued_messages 1000
message_size_limit 1048576  # 1MB

# WebSocket para browsers
listener 9001 0.0.0.0
protocol websockets

# Topics para 3dPot
# Formato: 3dpot/{device_type}/{device_id}/{metric}
# Exemplo: 3dpot/esp32/filament-001/weight

# QoS padrão
default_qos 1

# Retenção de mensagens
retain_available true

# Configuração de autenticação (futuro)
# password_file /mosquitto/config/passwd
# acl_file /mosquitto/config/acl

# Configurações de bridge (para integração futura)
# connection bridge-01
# address broker.external.mqtt.com:1883
# topic 3dpot/# out 0
# topic 3dpot/# in 0